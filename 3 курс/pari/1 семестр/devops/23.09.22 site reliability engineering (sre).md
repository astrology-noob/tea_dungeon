sre - реализация devops ("конфессия")
в sre должен быть инженер (в девопс - нет)

![[Pasted image 20220923141934.png]]

**загуглить пункты**

девопс инженер - автоматизация, инфраструктура (почти сисадмин)
сре инженер - состоит в команде разработки

зона ответственности:
девопс - инфраструктура
сре - отказоустойчивость, надёжность

сре есть книга ??

## Цели и задачи сре
![[Pasted image 20220923142540.png]]
обязанности инженера:
Ревью кода (как новый функционал повлияет на стабильность системы)
автоматизация
оценка рисков
доступность 24 на 7 (сре-инженеров должно быть больше 1, чтобы быть доступными всегда)

## Причины использовать
1) девопс есть но очень большой проект
2) чтобы команда эксплуатации не сильно злилась на разработчиков

сре-инженером может стать опытный программист или администратор-программист (могут предвидеть, что сломается в инфраструктуре; сре предполагает ревью кода)

разработка быстрее переходит к тестированию и быстрее определяет софт

## Базовые документы проекта:
1) slo (внутр) - service-level objective, показатели целевого обслуживания сервиса - в перспективе не возникнут разногласия по параметрам (составили показатели)
2) sli (внутр) - service-level indicator, показатели, которые измеряют уровни slo (как их отслеживать)
3) sla (внешн) - service-level agreement, формальный договор, услуги, права и обязанности сторон, согласованный уровень кач-ва предоставления услуги

реакция после sla - ~2 часа, предоставление услуги - ~сутки

## Доступность сервиса
регламентируется в sla
"сервис доступен опред. время в год"
ROI - return on investment 
99% - недоступно 4 дня
99,9% - недоступно 8 часов
99,99% - недоступно 1 час
99,999% - недоступно 5 минут
99,9999% - 30 секунд

необходимо резервирование, но поддерживать доступность дорого

Оценка времени сбоев и восстановления (сре-инженер напрямую влияет)
1) Mean Time Between Failure
2) Mean Time to Recovery

## Бюджет на ошибки (допущения)
на этапе док. обговаривается время на "простои" (бюджет на ошибки), заказчик сознательно соглашается. время делится между разными отделами проекта

- новые возможности, которые повлияли на производ-ность (нужно откатить изменения, "реиндексация" базы данных)
- плановые отключения
- обслуживание
- тестирование в условиях прода (house engineering - проверка на стабильность, попытки сломать приложение)

бюджет на ошибки даёт возможность экспериментировать

## Подходы
- тестирование в проде
- разбор неприятного случая без поиска виновного (blameless postmortem)
- мониторинг (slo) и прозрачность
- критерий прозрачности (метрика, которая говорит, насколько быстро вы можете определить что пошло не так в системе)

sre был предназначен для высоконагруженных систем (если простои очень дорого стоят)

для маленьких проектов можно:
- сделать прозрачную систему
- написать документы slo sli

в консалтинге можно частично использовать сре в командах разработки (ревью кода) и эксплуатации (инфраструктура)