## Виды:
- Оборудования (эмуляция платформы в случае если архитектура не позволяет запустить платформу - мобильная разработка, эмуляция игровых приставок)
- Оп. системы (виртуалбокс)
- Рабочего окружения (ПО, изолированный запуск программы)
- Системы хранения (**?**)
- Памяти (виртуализация - объединение памяти с разных хостов, виртуальная - изоляция части памяти от других устройств)
- Базы данных (абстракция?)
- Сети (виртуальные сети)

## Виртуализация ОС:
- программная (VApp)
- аппаратная (эмуляция, с поддержкой различных архитектур, гипервизор **?**
  1. гипервизор ставится на "голое железо"
  2. гипервизор ставится на ос
  )
- контейнерная (в рамках ос, то есть конкретной архитектуры, ядро ос поддерживает несколько изолированных экземпляров одного приложения)

гостевая ос и хост-ос **?**

### Реализации контейнеризации:
Chroot (старая, создаются разные директории в руте)
LXC (?)
Windows Containers
OpenVZ (высокий уровень изоляции)
Docker 
WPAR (платная)

### Уровни виртуализации:
Уровень | Расшифровка | Что можно виртуализировать | Системы
-- | -- | -- | --
AO | аппаратное обеспечение (железо) | ЦП, сеть, ОЗУ, CХД (**?**) | ESXI (от WMware), Hepre-V
ОС | операционная система | ОС, приложения, рабочая среда, namespace | Citrix, Ms APP-V, Docker, VirtualBox, WMware workstation

## Docker

Платформа, обеспечивает упаковку и запуск приложения в изолированной среде
Не про безопасность, обесп. сильную изоляцию

kubernetes mesos - надстройка над докер для мэнеджмента контейнеров????

![[Pasted image 20221003123052.png]]

lxc - container
lxd - daemon

apparmor есть только в дебиан

в kubernetes передаётся манифест -> по апи доступ к докеру, докер отправляет запросы в lxc и тд за счёт чего поднимает контейнер

контрольные группы (cgroups) - каталоги, которые используют приложения - на которые можно выделить разные ресурсы (адресные что-то?)

namespaces - ![[Pasted image 20221003123628.png]]
lo - внутренним обмен сетевыми файлами
выделяется пространство в котором доступны те ресурсы которые выделены в cgroups

![[Pasted image 20221003123835.png]]

data volumes - работа с файловой системой
network - виртуальная сеть, у каждого контейнера свой ip адрес
image - шаблон, неизменяемый?
на основе image создаётся контейнер

Архитектура Docker
![[Pasted image 20221003124332.png]]

![[Pasted image 20221003124639.png]]
базовый образ (слой) основанный на убунту, на котором будет запускаться приложение

mapping портов **загуглить**
-P 80:80
все запросы которые поступают на 80 порт переадрессовать на внутренний порт 80

хранение данных происходит с помощью маппинга указанного пути к физическому